<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=../kafka/ rel=prev><link href=../kiam/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.0.6"><title>Keycloak - Helm Charts Hub</title><link rel=stylesheet href=../../assets/stylesheets/main.558e4712.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.2505c338.min.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-C5YHK472VS"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-C5YHK472VS",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-C5YHK472VS",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary data-md-color-accent> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#keycloak-packaged-by-bitnami class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../.. title="Helm Charts Hub" class="md-header__button md-logo" aria-label="Helm Charts Hub" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Helm Charts Hub </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Keycloak </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=查找> <a href=javascript:void(0) class="md-search__icon md-icon" title=分享 aria-label=分享 data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/sir5kong/helm-charts-hub title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> sir5kong/helm-charts-hub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Helm Charts Hub </a> </li> <li class=md-tabs__item> <a href=../../chart-list/ class=md-tabs__link> Chart 列表 </a> </li> <li class=md-tabs__item> <a href=../ class="md-tabs__link md-tabs__link--active"> Bitnami </a> </li> <li class=md-tabs__item> <a href=../../grafana/ class=md-tabs__link> Grafana </a> </li> <li class=md-tabs__item> <a href=../../ingress-nginx/ class=md-tabs__link> Ingress nginx </a> </li> <li class=md-tabs__item> <a href=../../prometheus-community/ class=md-tabs__link> Prometheus community </a> </li> <li class=md-tabs__item> <a href=../../sir5kong/ class=md-tabs__link> Sir5kong </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Helm Charts Hub" class="md-nav__button md-logo" aria-label="Helm Charts Hub" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> Helm Charts Hub </label> <div class=md-nav__source> <a href=https://github.com/sir5kong/helm-charts-hub title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> sir5kong/helm-charts-hub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Helm Charts Hub </a> </li> <li class=md-nav__item> <a href=../../chart-list/ class=md-nav__link> Chart 列表 </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3 type=checkbox id=__nav_3 checked> <div class="md-nav__link md-nav__link--index "> <a href=../ >Bitnami</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Bitnami data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Bitnami </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../airflow/ class=md-nav__link> Airflow </a> </li> <li class=md-nav__item> <a href=../apache/ class=md-nav__link> Apache </a> </li> <li class=md-nav__item> <a href=../apisix/ class=md-nav__link> Apisix </a> </li> <li class=md-nav__item> <a href=../appsmith/ class=md-nav__link> Appsmith </a> </li> <li class=md-nav__item> <a href=../argo-cd/ class=md-nav__link> Argo cd </a> </li> <li class=md-nav__item> <a href=../argo-workflows/ class=md-nav__link> Argo workflows </a> </li> <li class=md-nav__item> <a href=../aspnet-core/ class=md-nav__link> Aspnet core </a> </li> <li class=md-nav__item> <a href=../cassandra/ class=md-nav__link> Cassandra </a> </li> <li class=md-nav__item> <a href=../cert-manager/ class=md-nav__link> Cert manager </a> </li> <li class=md-nav__item> <a href=../clickhouse/ class=md-nav__link> Clickhouse </a> </li> <li class=md-nav__item> <a href=../common/ class=md-nav__link> Bitnami Common Library Chart </a> </li> <li class=md-nav__item> <a href=../concourse/ class=md-nav__link> Concourse </a> </li> <li class=md-nav__item> <a href=../consul/ class=md-nav__link> Consul </a> </li> <li class=md-nav__item> <a href=../contour/ class=md-nav__link> Contour </a> </li> <li class=md-nav__item> <a href=../discourse/ class=md-nav__link> Discourse </a> </li> <li class=md-nav__item> <a href=../dokuwiki/ class=md-nav__link> Dokuwiki </a> </li> <li class=md-nav__item> <a href=../drupal/ class=md-nav__link> Drupal </a> </li> <li class=md-nav__item> <a href=../ejbca/ class=md-nav__link> Ejbca </a> </li> <li class=md-nav__item> <a href=../elasticsearch/ class=md-nav__link> Elasticsearch </a> </li> <li class=md-nav__item> <a href=../etcd/ class=md-nav__link> Etcd </a> </li> <li class=md-nav__item> <a href=../external-dns/ class=md-nav__link> External dns </a> </li> <li class=md-nav__item> <a href=../flink/ class=md-nav__link> Flink </a> </li> <li class=md-nav__item> <a href=../fluent-bit/ class=md-nav__link> Fluent bit </a> </li> <li class=md-nav__item> <a href=../fluentd/ class=md-nav__link> Fluentd </a> </li> <li class=md-nav__item> <a href=../flux/ class=md-nav__link> Flux </a> </li> <li class=md-nav__item> <a href=../ghost/ class=md-nav__link> Ghost </a> </li> <li class=md-nav__item> <a href=../gitea/ class=md-nav__link> Gitea </a> </li> <li class=md-nav__item> <a href=../grafana-loki/ class=md-nav__link> Grafana loki </a> </li> <li class=md-nav__item> <a href=../grafana-mimir/ class=md-nav__link> Grafana mimir </a> </li> <li class=md-nav__item> <a href=../grafana-operator/ class=md-nav__link> Grafana operator </a> </li> <li class=md-nav__item> <a href=../grafana-tempo/ class=md-nav__link> Grafana tempo </a> </li> <li class=md-nav__item> <a href=../grafana/ class=md-nav__link> Grafana </a> </li> <li class=md-nav__item> <a href=../haproxy/ class=md-nav__link> Haproxy </a> </li> <li class=md-nav__item> <a href=../harbor/ class=md-nav__link> Harbor </a> </li> <li class=md-nav__item> <a href=../influxdb/ class=md-nav__link> Influxdb </a> </li> <li class=md-nav__item> <a href=../jaeger/ class=md-nav__link> Jaeger </a> </li> <li class=md-nav__item> <a href=../jasperreports/ class=md-nav__link> Jasperreports </a> </li> <li class=md-nav__item> <a href=../jenkins/ class=md-nav__link> Jenkins </a> </li> <li class=md-nav__item> <a href=../joomla/ class=md-nav__link> Joomla </a> </li> <li class=md-nav__item> <a href=../jupyterhub/ class=md-nav__link> Jupyterhub </a> </li> <li class=md-nav__item> <a href=../kafka/ class=md-nav__link> Kafka </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Keycloak <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Keycloak </a> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#tldr class=md-nav__link> TL;DR </a> </li> <li class=md-nav__item> <a href=#introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=#installing-the-chart class=md-nav__link> Installing the Chart </a> </li> <li class=md-nav__item> <a href=#uninstalling-the-chart class=md-nav__link> Uninstalling the Chart </a> </li> <li class=md-nav__item> <a href=#parameters class=md-nav__link> Parameters </a> <nav class=md-nav aria-label=Parameters> <ul class=md-nav__list> <li class=md-nav__item> <a href=#global-parameters class=md-nav__link> Global parameters </a> </li> <li class=md-nav__item> <a href=#common-parameters class=md-nav__link> Common parameters </a> </li> <li class=md-nav__item> <a href=#keycloak-parameters class=md-nav__link> Keycloak parameters </a> </li> <li class=md-nav__item> <a href=#keycloak-statefulset-parameters class=md-nav__link> Keycloak statefulset parameters </a> </li> <li class=md-nav__item> <a href=#exposure-parameters class=md-nav__link> Exposure parameters </a> </li> <li class=md-nav__item> <a href=#rbac-parameter class=md-nav__link> RBAC parameter </a> </li> <li class=md-nav__item> <a href=#other-parameters class=md-nav__link> Other parameters </a> </li> <li class=md-nav__item> <a href=#metrics-parameters class=md-nav__link> Metrics parameters </a> </li> <li class=md-nav__item> <a href=#keycloak-config-cli-parameters class=md-nav__link> keycloak-config-cli parameters </a> </li> <li class=md-nav__item> <a href=#database-parameters class=md-nav__link> Database parameters </a> </li> <li class=md-nav__item> <a href=#keycloak-cache-parameters class=md-nav__link> Keycloak Cache parameters </a> </li> <li class=md-nav__item> <a href=#keycloak-logging-parameters class=md-nav__link> Keycloak Logging parameters </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration-and-installation-details class=md-nav__link> Configuration and installation details </a> <nav class=md-nav aria-label="Configuration and installation details"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rolling-vs-immutable-tags class=md-nav__link> Rolling vs Immutable tags </a> </li> <li class=md-nav__item> <a href=#use-an-external-database class=md-nav__link> Use an external database </a> </li> <li class=md-nav__item> <a href=#add-extra-environment-variables class=md-nav__link> Add extra environment variables </a> </li> <li class=md-nav__item> <a href=#use-sidecars-and-init-containers class=md-nav__link> Use Sidecars and Init Containers </a> </li> <li class=md-nav__item> <a href=#initialize-a-fresh-instance class=md-nav__link> Initialize a fresh instance </a> </li> <li class=md-nav__item> <a href=#deploy-extra-resources class=md-nav__link> Deploy extra resources </a> </li> <li class=md-nav__item> <a href=#set-pod-affinity class=md-nav__link> Set Pod affinity </a> </li> <li class=md-nav__item> <a href=#configure-ingress class=md-nav__link> Configure Ingress </a> </li> <li class=md-nav__item> <a href=#configure-tls-secrets-for-use-with-ingress class=md-nav__link> Configure TLS Secrets for use with Ingress </a> </li> <li class=md-nav__item> <a href=#use-with-ingress-offloading-ssl class=md-nav__link> Use with ingress offloading SSL </a> </li> <li class=md-nav__item> <a href=#manage-secrets-and-passwords class=md-nav__link> Manage secrets and passwords </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=#upgrading class=md-nav__link> Upgrading </a> <nav class=md-nav aria-label=Upgrading> <ul class=md-nav__list> <li class=md-nav__item> <a href=#to-1500 class=md-nav__link> To 15.0.0 </a> </li> <li class=md-nav__item> <a href=#to-1200 class=md-nav__link> To 12.0.0 </a> </li> <li class=md-nav__item> <a href=#to-any-previous-version class=md-nav__link> To any previous version </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#license class=md-nav__link> License </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../kiam/ class=md-nav__link> Kiam </a> </li> <li class=md-nav__item> <a href=../kibana/ class=md-nav__link> Kibana </a> </li> <li class=md-nav__item> <a href=../kong/ class=md-nav__link> Kong </a> </li> <li class=md-nav__item> <a href=../kube-prometheus/ class=md-nav__link> Kube prometheus </a> </li> <li class=md-nav__item> <a href=../kube-state-metrics/ class=md-nav__link> Kube state metrics </a> </li> <li class=md-nav__item> <a href=../kubeapps/ class=md-nav__link> Kubeapps </a> </li> <li class=md-nav__item> <a href=../kubernetes-event-exporter/ class=md-nav__link> Kubernetes event exporter </a> </li> <li class=md-nav__item> <a href=../logstash/ class=md-nav__link> Logstash </a> </li> <li class=md-nav__item> <a href=../magento/ class=md-nav__link> Magento </a> </li> <li class=md-nav__item> <a href=../mariadb-galera/ class=md-nav__link> Mariadb galera </a> </li> <li class=md-nav__item> <a href=../mariadb/ class=md-nav__link> Mariadb </a> </li> <li class=md-nav__item> <a href=../mastodon/ class=md-nav__link> Mastodon </a> </li> <li class=md-nav__item> <a href=../matomo/ class=md-nav__link> Matomo </a> </li> <li class=md-nav__item> <a href=../mediawiki/ class=md-nav__link> Mediawiki </a> </li> <li class=md-nav__item> <a href=../memcached/ class=md-nav__link> Memcached </a> </li> <li class=md-nav__item> <a href=../metallb/ class=md-nav__link> Metallb </a> </li> <li class=md-nav__item> <a href=../metrics-server/ class=md-nav__link> Metrics server </a> </li> <li class=md-nav__item> <a href=../minio/ class=md-nav__link> Minio </a> </li> <li class=md-nav__item> <a href=../mongodb-sharded/ class=md-nav__link> Mongodb sharded </a> </li> <li class=md-nav__item> <a href=../mongodb/ class=md-nav__link> Mongodb </a> </li> <li class=md-nav__item> <a href=../moodle/ class=md-nav__link> Moodle </a> </li> <li class=md-nav__item> <a href=../multus-cni/ class=md-nav__link> Multus cni </a> </li> <li class=md-nav__item> <a href=../mxnet/ class=md-nav__link> Mxnet </a> </li> <li class=md-nav__item> <a href=../mysql/ class=md-nav__link> Mysql </a> </li> <li class=md-nav__item> <a href=../nats/ class=md-nav__link> Nats </a> </li> <li class=md-nav__item> <a href=../nginx-ingress-controller/ class=md-nav__link> Nginx ingress controller </a> </li> <li class=md-nav__item> <a href=../nginx/ class=md-nav__link> Nginx </a> </li> <li class=md-nav__item> <a href=../node-exporter/ class=md-nav__link> Node exporter </a> </li> <li class=md-nav__item> <a href=../oauth2-proxy/ class=md-nav__link> Oauth2 proxy </a> </li> <li class=md-nav__item> <a href=../odoo/ class=md-nav__link> Odoo </a> </li> <li class=md-nav__item> <a href=../opencart/ class=md-nav__link> Opencart </a> </li> <li class=md-nav__item> <a href=../osclass/ class=md-nav__link> Osclass </a> </li> <li class=md-nav__item> <a href=../parse/ class=md-nav__link> Parse </a> </li> <li class=md-nav__item> <a href=../phpbb/ class=md-nav__link> Phpbb </a> </li> <li class=md-nav__item> <a href=../phpmyadmin/ class=md-nav__link> Phpmyadmin </a> </li> <li class=md-nav__item> <a href=../pinniped/ class=md-nav__link> Pinniped </a> </li> <li class=md-nav__item> <a href=../postgresql-ha/ class=md-nav__link> Postgresql ha </a> </li> <li class=md-nav__item> <a href=../postgresql/ class=md-nav__link> Postgresql </a> </li> <li class=md-nav__item> <a href=../prestashop/ class=md-nav__link> Prestashop </a> </li> <li class=md-nav__item> <a href=../prometheus/ class=md-nav__link> Prometheus </a> </li> <li class=md-nav__item> <a href=../pytorch/ class=md-nav__link> Pytorch </a> </li> <li class=md-nav__item> <a href=../rabbitmq-cluster-operator/ class=md-nav__link> Rabbitmq cluster operator </a> </li> <li class=md-nav__item> <a href=../rabbitmq/ class=md-nav__link> Rabbitmq </a> </li> <li class=md-nav__item> <a href=../redis-cluster/ class=md-nav__link> Redis cluster </a> </li> <li class=md-nav__item> <a href=../redis/ class=md-nav__link> Redis </a> </li> <li class=md-nav__item> <a href=../redmine/ class=md-nav__link> Redmine </a> </li> <li class=md-nav__item> <a href=../schema-registry/ class=md-nav__link> Schema registry </a> </li> <li class=md-nav__item> <a href=../sealed-secrets/ class=md-nav__link> Sealed secrets </a> </li> <li class=md-nav__item> <a href=../solr/ class=md-nav__link> Solr </a> </li> <li class=md-nav__item> <a href=../sonarqube/ class=md-nav__link> Sonarqube </a> </li> <li class=md-nav__item> <a href=../spark/ class=md-nav__link> Spark </a> </li> <li class=md-nav__item> <a href=../spring-cloud-dataflow/ class=md-nav__link> Spring cloud dataflow </a> </li> <li class=md-nav__item> <a href=../suitecrm/ class=md-nav__link> Suitecrm </a> </li> <li class=md-nav__item> <a href=../supabase/ class=md-nav__link> Supabase </a> </li> <li class=md-nav__item> <a href=../tensorflow-resnet/ class=md-nav__link> Tensorflow resnet </a> </li> <li class=md-nav__item> <a href=../thanos/ class=md-nav__link> Thanos </a> </li> <li class=md-nav__item> <a href=../tomcat/ class=md-nav__link> Tomcat </a> </li> <li class=md-nav__item> <a href=../vault/ class=md-nav__link> Vault </a> </li> <li class=md-nav__item> <a href=../wavefront-hpa-adapter/ class=md-nav__link> Wavefront hpa adapter </a> </li> <li class=md-nav__item> <a href=../wavefront-prometheus-storage-adapter/ class=md-nav__link> Wavefront prometheus storage adapter </a> </li> <li class=md-nav__item> <a href=../whereabouts/ class=md-nav__link> Whereabouts </a> </li> <li class=md-nav__item> <a href=../wildfly/ class=md-nav__link> Wildfly </a> </li> <li class=md-nav__item> <a href=../wordpress/ class=md-nav__link> Wordpress </a> </li> <li class=md-nav__item> <a href=../zookeeper/ class=md-nav__link> Zookeeper </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_4 type=checkbox id=__nav_4> <div class="md-nav__link md-nav__link--index "> <a href=../../grafana/ >Grafana</a> <label for=__nav_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Grafana data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Grafana </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../grafana/agent-operator/ class=md-nav__link> grafana-agent-operator </a> </li> <li class=md-nav__item> <a href=../../grafana/enterprise-logs-simple/ class=md-nav__link> enterprise-logs-simple </a> </li> <li class=md-nav__item> <a href=../../grafana/enterprise-logs/ class=md-nav__link> Grafana Enterprise Logs Helm Chart </a> </li> <li class=md-nav__item> <a href=../../grafana/enterprise-metrics/ class=md-nav__link> Grafana Enterprise Metrics Helm Chart </a> </li> <li class=md-nav__item> <a href=../../grafana/fluent-bit/ class=md-nav__link> Fluent Bit Loki chart </a> </li> <li class=md-nav__item> <a href=../../grafana/grafana-agent/ class=md-nav__link> Grafana Agent chart </a> </li> <li class=md-nav__item> <a href=../../grafana/grafana/ class=md-nav__link> Grafana Helm Chart </a> </li> <li class=md-nav__item> <a href=../../grafana/loki-canary/ class=md-nav__link> loki-canary </a> </li> <li class=md-nav__item> <a href=../../grafana/loki-distributed/ class=md-nav__link> loki-distributed </a> </li> <li class=md-nav__item> <a href=../../grafana/loki-stack/ class=md-nav__link> Loki-Stack Helm Chart </a> </li> <li class=md-nav__item> <a href=../../grafana/mimir-distributed/ class=md-nav__link> Notice of relocation </a> </li> <li class=md-nav__item> <a href=../../grafana/promtail/ class=md-nav__link> promtail </a> </li> <li class=md-nav__item> <a href=../../grafana/rollout-operator/ class=md-nav__link> Grafana rollout-operator Helm Chart </a> </li> <li class=md-nav__item> <a href=../../grafana/synthetic-monitoring-agent/ class=md-nav__link> synthetic-monitoring-agent </a> </li> <li class=md-nav__item> <a href=../../grafana/tempo-distributed/ class=md-nav__link> tempo-distributed </a> </li> <li class=md-nav__item> <a href=../../grafana/tempo-vulture/ class=md-nav__link> tempo-vulture </a> </li> <li class=md-nav__item> <a href=../../grafana/tempo/ class=md-nav__link> tempo </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_5 type=checkbox id=__nav_5> <div class="md-nav__link md-nav__link--index "> <a href=../../ingress-nginx/ >Ingress nginx</a> <label for=__nav_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Ingress nginx" data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Ingress nginx </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ingress-nginx/ingress-nginx/ class=md-nav__link> ingress-nginx </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_6 type=checkbox id=__nav_6> <div class="md-nav__link md-nav__link--index "> <a href=../../prometheus-community/ >Prometheus community</a> <label for=__nav_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="Prometheus community" data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Prometheus community </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../prometheus-community/alertmanager-snmp-notifier/ class=md-nav__link> Prometheus SNMP Notifier </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/alertmanager/ class=md-nav__link> Alertmanager </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/jiralert/ class=md-nav__link> Prometheus SNMP Notifier </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/kube-prometheus-stack/ class=md-nav__link> kube-prometheus-stack </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/kube-state-metrics/ class=md-nav__link> kube-state-metrics Helm Chart </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prom-label-proxy/ class=md-nav__link> prom-label-proxy </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-adapter/ class=md-nav__link> Prometheus Adapter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-blackbox-exporter/ class=md-nav__link> Prometheus Blackbox Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-cloudwatch-exporter/ class=md-nav__link> Prometheus Cloudwatch Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-conntrack-stats-exporter/ class=md-nav__link> Conntrack Stats Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-consul-exporter/ class=md-nav__link> Prometheus Consul Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-couchdb-exporter/ class=md-nav__link> prometheus-couchdb-exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-druid-exporter/ class=md-nav__link> Prometheus Druid Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-elasticsearch-exporter/ class=md-nav__link> Elasticsearch Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-fastly-exporter/ class=md-nav__link> Prometheus Fastly Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-json-exporter/ class=md-nav__link> prometheus-json-exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-kafka-exporter/ class=md-nav__link> prometheus-kafka-exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-mongodb-exporter/ class=md-nav__link> Prometheus MongoDB Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-mysql-exporter/ class=md-nav__link> Prometheus Mysql Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-nats-exporter/ class=md-nav__link> Prometheus NATS Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-nginx-exporter/ class=md-nav__link> prometheus-nginx-exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-node-exporter/ class=md-nav__link> Prometheus `Node Exporter` </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-operator-admission-webhook/ class=md-nav__link> Prometheus Operator Admission Webhook </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-operator-crds/ class=md-nav__link> Prometheus Operator CRDs </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-pgbouncer-exporter/ class=md-nav__link> Prometheus Postgres Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-pingdom-exporter/ class=md-nav__link> Prometheus Pingdom Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-pingmesh-exporter/ class=md-nav__link> Prometheus Pingmesh Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-postgres-exporter/ class=md-nav__link> Prometheus Postgres Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-pushgateway/ class=md-nav__link> Prometheus Pushgateway </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-rabbitmq-exporter/ class=md-nav__link> prometheus-rabbitmq-exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-redis-exporter/ class=md-nav__link> prometheus-redis-exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-smartctl-exporter/ class=md-nav__link> Prometheus smartctl Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-snmp-exporter/ class=md-nav__link> Prometheus SNMP Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-stackdriver-exporter/ class=md-nav__link> Stackdriver Exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-statsd-exporter/ class=md-nav__link> prometheus-statsd-exporter </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-to-sd/ class=md-nav__link> prometheus-to-sd </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus-windows-exporter/ class=md-nav__link> Prometheus `Node Exporter` </a> </li> <li class=md-nav__item> <a href=../../prometheus-community/prometheus/ class=md-nav__link> Prometheus </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_7 type=checkbox id=__nav_7> <div class="md-nav__link md-nav__link--index "> <a href=../../sir5kong/ >Sir5kong</a> <label for=__nav_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Sir5kong data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Sir5kong </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../sir5kong/commonapp/ class=md-nav__link> commonapp helm chart </a> </li> <li class=md-nav__item> <a href=../../sir5kong/kafka/ class=md-nav__link> Kafka helm chart </a> </li> <li class=md-nav__item> <a href=../../sir5kong/nginx/ class=md-nav__link> nginx helm chart </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#tldr class=md-nav__link> TL;DR </a> </li> <li class=md-nav__item> <a href=#introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=#installing-the-chart class=md-nav__link> Installing the Chart </a> </li> <li class=md-nav__item> <a href=#uninstalling-the-chart class=md-nav__link> Uninstalling the Chart </a> </li> <li class=md-nav__item> <a href=#parameters class=md-nav__link> Parameters </a> <nav class=md-nav aria-label=Parameters> <ul class=md-nav__list> <li class=md-nav__item> <a href=#global-parameters class=md-nav__link> Global parameters </a> </li> <li class=md-nav__item> <a href=#common-parameters class=md-nav__link> Common parameters </a> </li> <li class=md-nav__item> <a href=#keycloak-parameters class=md-nav__link> Keycloak parameters </a> </li> <li class=md-nav__item> <a href=#keycloak-statefulset-parameters class=md-nav__link> Keycloak statefulset parameters </a> </li> <li class=md-nav__item> <a href=#exposure-parameters class=md-nav__link> Exposure parameters </a> </li> <li class=md-nav__item> <a href=#rbac-parameter class=md-nav__link> RBAC parameter </a> </li> <li class=md-nav__item> <a href=#other-parameters class=md-nav__link> Other parameters </a> </li> <li class=md-nav__item> <a href=#metrics-parameters class=md-nav__link> Metrics parameters </a> </li> <li class=md-nav__item> <a href=#keycloak-config-cli-parameters class=md-nav__link> keycloak-config-cli parameters </a> </li> <li class=md-nav__item> <a href=#database-parameters class=md-nav__link> Database parameters </a> </li> <li class=md-nav__item> <a href=#keycloak-cache-parameters class=md-nav__link> Keycloak Cache parameters </a> </li> <li class=md-nav__item> <a href=#keycloak-logging-parameters class=md-nav__link> Keycloak Logging parameters </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration-and-installation-details class=md-nav__link> Configuration and installation details </a> <nav class=md-nav aria-label="Configuration and installation details"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rolling-vs-immutable-tags class=md-nav__link> Rolling vs Immutable tags </a> </li> <li class=md-nav__item> <a href=#use-an-external-database class=md-nav__link> Use an external database </a> </li> <li class=md-nav__item> <a href=#add-extra-environment-variables class=md-nav__link> Add extra environment variables </a> </li> <li class=md-nav__item> <a href=#use-sidecars-and-init-containers class=md-nav__link> Use Sidecars and Init Containers </a> </li> <li class=md-nav__item> <a href=#initialize-a-fresh-instance class=md-nav__link> Initialize a fresh instance </a> </li> <li class=md-nav__item> <a href=#deploy-extra-resources class=md-nav__link> Deploy extra resources </a> </li> <li class=md-nav__item> <a href=#set-pod-affinity class=md-nav__link> Set Pod affinity </a> </li> <li class=md-nav__item> <a href=#configure-ingress class=md-nav__link> Configure Ingress </a> </li> <li class=md-nav__item> <a href=#configure-tls-secrets-for-use-with-ingress class=md-nav__link> Configure TLS Secrets for use with Ingress </a> </li> <li class=md-nav__item> <a href=#use-with-ingress-offloading-ssl class=md-nav__link> Use with ingress offloading SSL </a> </li> <li class=md-nav__item> <a href=#manage-secrets-and-passwords class=md-nav__link> Manage secrets and passwords </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=#upgrading class=md-nav__link> Upgrading </a> <nav class=md-nav aria-label=Upgrading> <ul class=md-nav__list> <li class=md-nav__item> <a href=#to-1500 class=md-nav__link> To 15.0.0 </a> </li> <li class=md-nav__item> <a href=#to-1200 class=md-nav__link> To 12.0.0 </a> </li> <li class=md-nav__item> <a href=#to-any-previous-version class=md-nav__link> To any previous version </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#license class=md-nav__link> License </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <!--- app-name: Keycloak --> <h1 id=keycloak-packaged-by-bitnami>Keycloak packaged by Bitnami<a class=headerlink href=#keycloak-packaged-by-bitnami title="Permanent link">&para;</a></h1> <p>Keycloak is a high performance Java-based identity and access management solution. It lets developers add an authentication layer to their applications with minimum effort.</p> <p><a href=https://www.keycloak.org/ >Overview of Keycloak</a></p> <p>Trademarks: This software listing is packaged by Bitnami. The respective trademarks mentioned in the offering are owned by the respective companies, and use of them does not imply any affiliation or endorsement.</p> <h2 id=tldr>TL;DR<a class=headerlink href=#tldr title="Permanent link">&para;</a></h2> <blockquote> <p>使用加速地址添加仓库:</p> </blockquote> <div class="language-shell highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>helm<span class=w> </span>repo<span class=w> </span>add<span class=w> </span>bitnami<span class=w> </span><span class=s2>&quot;https://helm-charts.itboon.top/bitnami&quot;</span><span class=w> </span>--force-update
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>helm<span class=w> </span>update<span class=w> </span>bitnami
</span></code></pre></div> <div class="language-console highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=go>helm install my-release bitnami/keycloak</span>
</span></code></pre></div> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">&para;</a></h2> <p>Bitnami charts for Helm are carefully engineered, actively maintained and are the quickest and easiest way to deploy containers on a Kubernetes cluster that are ready to handle production workloads.</p> <p>This chart bootstraps a <a href=https://github.com/bitnami/containers/tree/main/bitnami/keycloak>Keycloak</a> deployment on a <a href=https://kubernetes.io>Kubernetes</a> cluster using the <a href=https://helm.sh>Helm</a> package manager.</p> <p>Bitnami charts can be used with <a href=https://kubeapps.dev/ >Kubeapps</a> for deployment and management of Helm Charts in clusters.</p> <p>Looking to use Keycloak in production? Try <a href=https://bitnami.com/enterprise>VMware Application Catalog</a>, the enterprise edition of Bitnami Application Catalog.</p> <h2 id=prerequisites>Prerequisites<a class=headerlink href=#prerequisites title="Permanent link">&para;</a></h2> <ul> <li>Kubernetes 1.19+</li> <li>Helm 3.2.0+</li> </ul> <h2 id=installing-the-chart>Installing the Chart<a class=headerlink href=#installing-the-chart title="Permanent link">&para;</a></h2> <p>To install the chart with the release name <code>my-release</code>:</p> <div class="language-console highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=go>helm install my-release bitnami/keycloak</span>
</span></code></pre></div> <p>These commands deploy a Keycloak application on the Kubernetes cluster in the default configuration.</p> <blockquote> <p><strong>Tip</strong>: List all releases using <code>helm list</code></p> </blockquote> <h2 id=uninstalling-the-chart>Uninstalling the Chart<a class=headerlink href=#uninstalling-the-chart title="Permanent link">&para;</a></h2> <p>To uninstall/delete the <code>my-release</code> deployment:</p> <div class="language-console highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=go>helm delete my-release</span>
</span></code></pre></div> <p>The command removes all the Kubernetes components associated with the chart and deletes the release.</p> <h2 id=parameters>Parameters<a class=headerlink href=#parameters title="Permanent link">&para;</a></h2> <h3 id=global-parameters>Global parameters<a class=headerlink href=#global-parameters title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Name</th> <th>Description</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td><code>global.imageRegistry</code></td> <td>Global Docker image registry</td> <td><code>""</code></td> </tr> <tr> <td><code>global.imagePullSecrets</code></td> <td>Global Docker registry secret names as an array</td> <td><code>[]</code></td> </tr> <tr> <td><code>global.storageClass</code></td> <td>Global StorageClass for Persistent Volume(s)</td> <td><code>""</code></td> </tr> </tbody> </table> <h3 id=common-parameters>Common parameters<a class=headerlink href=#common-parameters title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Name</th> <th>Description</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td><code>kubeVersion</code></td> <td>Force target Kubernetes version (using Helm capabilities if not set)</td> <td><code>""</code></td> </tr> <tr> <td><code>nameOverride</code></td> <td>String to partially override common.names.fullname</td> <td><code>""</code></td> </tr> <tr> <td><code>fullnameOverride</code></td> <td>String to fully override common.names.fullname</td> <td><code>""</code></td> </tr> <tr> <td><code>namespaceOverride</code></td> <td>String to fully override common.names.namespace</td> <td><code>""</code></td> </tr> <tr> <td><code>commonLabels</code></td> <td>Labels to add to all deployed objects</td> <td><code>{}</code></td> </tr> <tr> <td><code>enableServiceLinks</code></td> <td>If set to false, disable Kubernetes service links in the pod spec</td> <td><code>true</code></td> </tr> <tr> <td><code>commonAnnotations</code></td> <td>Annotations to add to all deployed objects</td> <td><code>{}</code></td> </tr> <tr> <td><code>dnsPolicy</code></td> <td>DNS Policy for pod</td> <td><code>""</code></td> </tr> <tr> <td><code>dnsConfig</code></td> <td>DNS Configuration pod</td> <td><code>{}</code></td> </tr> <tr> <td><code>clusterDomain</code></td> <td>Default Kubernetes cluster domain</td> <td><code>cluster.local</code></td> </tr> <tr> <td><code>extraDeploy</code></td> <td>Array of extra objects to deploy with the release</td> <td><code>[]</code></td> </tr> <tr> <td><code>diagnosticMode.enabled</code></td> <td>Enable diagnostic mode (all probes will be disabled and the command will be overridden)</td> <td><code>false</code></td> </tr> <tr> <td><code>diagnosticMode.command</code></td> <td>Command to override all containers in the the statefulset</td> <td><code>["sleep"]</code></td> </tr> <tr> <td><code>diagnosticMode.args</code></td> <td>Args to override all containers in the the statefulset</td> <td><code>["infinity"]</code></td> </tr> </tbody> </table> <h3 id=keycloak-parameters>Keycloak parameters<a class=headerlink href=#keycloak-parameters title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Name</th> <th>Description</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td><code>image.registry</code></td> <td>Keycloak image registry</td> <td><code>docker.io</code></td> </tr> <tr> <td><code>image.repository</code></td> <td>Keycloak image repository</td> <td><code>bitnami/keycloak</code></td> </tr> <tr> <td><code>image.tag</code></td> <td>Keycloak image tag (immutable tags are recommended)</td> <td><code>21.1.2-debian-11-r0</code></td> </tr> <tr> <td><code>image.digest</code></td> <td>Keycloak image digest in the way sha256:aa.... Please note this parameter, if set, will override the tag</td> <td><code>""</code></td> </tr> <tr> <td><code>image.pullPolicy</code></td> <td>Keycloak image pull policy</td> <td><code>IfNotPresent</code></td> </tr> <tr> <td><code>image.pullSecrets</code></td> <td>Specify docker-registry secret names as an array</td> <td><code>[]</code></td> </tr> <tr> <td><code>image.debug</code></td> <td>Specify if debug logs should be enabled</td> <td><code>false</code></td> </tr> <tr> <td><code>auth.adminUser</code></td> <td>Keycloak administrator user</td> <td><code>user</code></td> </tr> <tr> <td><code>auth.adminPassword</code></td> <td>Keycloak administrator password for the new user</td> <td><code>""</code></td> </tr> <tr> <td><code>auth.existingSecret</code></td> <td>Existing secret containing Keycloak admin password</td> <td><code>""</code></td> </tr> <tr> <td><code>auth.passwordSecretKey</code></td> <td>Key where the Keycloak admin password is being stored inside the existing secret.</td> <td><code>""</code></td> </tr> <tr> <td><code>tls.enabled</code></td> <td>Enable TLS encryption. Required for HTTPs traffic.</td> <td><code>false</code></td> </tr> <tr> <td><code>tls.autoGenerated</code></td> <td>Generate automatically self-signed TLS certificates. Currently only supports PEM certificates</td> <td><code>false</code></td> </tr> <tr> <td><code>tls.existingSecret</code></td> <td>Existing secret containing the TLS certificates per Keycloak replica</td> <td><code>""</code></td> </tr> <tr> <td><code>tls.usePem</code></td> <td>Use PEM certificates as input instead of PKS12/JKS stores</td> <td><code>false</code></td> </tr> <tr> <td><code>tls.truststoreFilename</code></td> <td>Truststore filename inside the existing secret</td> <td><code>keycloak.truststore.jks</code></td> </tr> <tr> <td><code>tls.keystoreFilename</code></td> <td>Keystore filename inside the existing secret</td> <td><code>keycloak.keystore.jks</code></td> </tr> <tr> <td><code>tls.keystorePassword</code></td> <td>Password to access the keystore when it's password-protected</td> <td><code>""</code></td> </tr> <tr> <td><code>tls.truststorePassword</code></td> <td>Password to access the truststore when it's password-protected</td> <td><code>""</code></td> </tr> <tr> <td><code>tls.passwordsSecret</code></td> <td>Secret containing the Keystore and Truststore passwords.</td> <td><code>""</code></td> </tr> <tr> <td><code>spi.existingSecret</code></td> <td>Existing secret containing the Keycloak truststore for SPI connection over HTTPS/TLS</td> <td><code>""</code></td> </tr> <tr> <td><code>spi.truststorePassword</code></td> <td>Password to access the truststore when it's password-protected</td> <td><code>""</code></td> </tr> <tr> <td><code>spi.truststoreFilename</code></td> <td>Truststore filename inside the existing secret</td> <td><code>keycloak-spi.truststore.jks</code></td> </tr> <tr> <td><code>spi.passwordsSecret</code></td> <td>Secret containing the SPI Truststore passwords.</td> <td><code>""</code></td> </tr> <tr> <td><code>spi.hostnameVerificationPolicy</code></td> <td>Verify the hostname of the server’s certificate. Allowed values: "ANY", "WILDCARD", "STRICT".</td> <td><code>""</code></td> </tr> <tr> <td><code>production</code></td> <td>Run Keycloak in production mode. TLS configuration is required except when using proxy=edge.</td> <td><code>false</code></td> </tr> <tr> <td><code>proxy</code></td> <td>reverse Proxy mode edge, reencrypt, passthrough or none</td> <td><code>passthrough</code></td> </tr> <tr> <td><code>httpRelativePath</code></td> <td>Set the path relative to '/' for serving resources. Useful if you are migrating from older version which were using '/auth/'</td> <td><code>/</code></td> </tr> <tr> <td><code>configuration</code></td> <td>Keycloak Configuration. Auto-generated based on other parameters when not specified</td> <td><code>""</code></td> </tr> <tr> <td><code>existingConfigmap</code></td> <td>Name of existing ConfigMap with Keycloak configuration</td> <td><code>""</code></td> </tr> <tr> <td><code>extraStartupArgs</code></td> <td>Extra default startup args</td> <td><code>""</code></td> </tr> <tr> <td><code>initdbScripts</code></td> <td>Dictionary of initdb scripts</td> <td><code>{}</code></td> </tr> <tr> <td><code>initdbScriptsConfigMap</code></td> <td>ConfigMap with the initdb scripts (Note: Overrides <code>initdbScripts</code>)</td> <td><code>""</code></td> </tr> <tr> <td><code>command</code></td> <td>Override default container command (useful when using custom images)</td> <td><code>[]</code></td> </tr> <tr> <td><code>args</code></td> <td>Override default container args (useful when using custom images)</td> <td><code>[]</code></td> </tr> <tr> <td><code>extraEnvVars</code></td> <td>Extra environment variables to be set on Keycloak container</td> <td><code>[]</code></td> </tr> <tr> <td><code>extraEnvVarsCM</code></td> <td>Name of existing ConfigMap containing extra env vars</td> <td><code>""</code></td> </tr> <tr> <td><code>extraEnvVarsSecret</code></td> <td>Name of existing Secret containing extra env vars</td> <td><code>""</code></td> </tr> </tbody> </table> <h3 id=keycloak-statefulset-parameters>Keycloak statefulset parameters<a class=headerlink href=#keycloak-statefulset-parameters title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Name</th> <th>Description</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td><code>replicaCount</code></td> <td>Number of Keycloak replicas to deploy</td> <td><code>1</code></td> </tr> <tr> <td><code>containerPorts.http</code></td> <td>Keycloak HTTP container port</td> <td><code>8080</code></td> </tr> <tr> <td><code>containerPorts.https</code></td> <td>Keycloak HTTPS container port</td> <td><code>8443</code></td> </tr> <tr> <td><code>containerPorts.infinispan</code></td> <td>Keycloak infinispan container port</td> <td><code>7800</code></td> </tr> <tr> <td><code>extraContainerPorts</code></td> <td>Optionally specify extra list of additional port-mappings for Keycloak container</td> <td><code>[]</code></td> </tr> <tr> <td><code>podSecurityContext.enabled</code></td> <td>Enabled Keycloak pods' Security Context</td> <td><code>true</code></td> </tr> <tr> <td><code>podSecurityContext.fsGroup</code></td> <td>Set Keycloak pod's Security Context fsGroup</td> <td><code>1001</code></td> </tr> <tr> <td><code>containerSecurityContext.enabled</code></td> <td>Enabled Keycloak containers' Security Context</td> <td><code>true</code></td> </tr> <tr> <td><code>containerSecurityContext.runAsUser</code></td> <td>Set Keycloak container's Security Context runAsUser</td> <td><code>1001</code></td> </tr> <tr> <td><code>containerSecurityContext.runAsNonRoot</code></td> <td>Set Keycloak container's Security Context runAsNonRoot</td> <td><code>true</code></td> </tr> <tr> <td><code>resources.limits</code></td> <td>The resources limits for the Keycloak containers</td> <td><code>{}</code></td> </tr> <tr> <td><code>resources.requests</code></td> <td>The requested resources for the Keycloak containers</td> <td><code>{}</code></td> </tr> <tr> <td><code>livenessProbe.enabled</code></td> <td>Enable livenessProbe on Keycloak containers</td> <td><code>true</code></td> </tr> <tr> <td><code>livenessProbe.initialDelaySeconds</code></td> <td>Initial delay seconds for livenessProbe</td> <td><code>300</code></td> </tr> <tr> <td><code>livenessProbe.periodSeconds</code></td> <td>Period seconds for livenessProbe</td> <td><code>1</code></td> </tr> <tr> <td><code>livenessProbe.timeoutSeconds</code></td> <td>Timeout seconds for livenessProbe</td> <td><code>5</code></td> </tr> <tr> <td><code>livenessProbe.failureThreshold</code></td> <td>Failure threshold for livenessProbe</td> <td><code>3</code></td> </tr> <tr> <td><code>livenessProbe.successThreshold</code></td> <td>Success threshold for livenessProbe</td> <td><code>1</code></td> </tr> <tr> <td><code>readinessProbe.enabled</code></td> <td>Enable readinessProbe on Keycloak containers</td> <td><code>true</code></td> </tr> <tr> <td><code>readinessProbe.initialDelaySeconds</code></td> <td>Initial delay seconds for readinessProbe</td> <td><code>30</code></td> </tr> <tr> <td><code>readinessProbe.periodSeconds</code></td> <td>Period seconds for readinessProbe</td> <td><code>10</code></td> </tr> <tr> <td><code>readinessProbe.timeoutSeconds</code></td> <td>Timeout seconds for readinessProbe</td> <td><code>1</code></td> </tr> <tr> <td><code>readinessProbe.failureThreshold</code></td> <td>Failure threshold for readinessProbe</td> <td><code>3</code></td> </tr> <tr> <td><code>readinessProbe.successThreshold</code></td> <td>Success threshold for readinessProbe</td> <td><code>1</code></td> </tr> <tr> <td><code>startupProbe.enabled</code></td> <td>Enable startupProbe on Keycloak containers</td> <td><code>false</code></td> </tr> <tr> <td><code>startupProbe.initialDelaySeconds</code></td> <td>Initial delay seconds for startupProbe</td> <td><code>30</code></td> </tr> <tr> <td><code>startupProbe.periodSeconds</code></td> <td>Period seconds for startupProbe</td> <td><code>5</code></td> </tr> <tr> <td><code>startupProbe.timeoutSeconds</code></td> <td>Timeout seconds for startupProbe</td> <td><code>1</code></td> </tr> <tr> <td><code>startupProbe.failureThreshold</code></td> <td>Failure threshold for startupProbe</td> <td><code>60</code></td> </tr> <tr> <td><code>startupProbe.successThreshold</code></td> <td>Success threshold for startupProbe</td> <td><code>1</code></td> </tr> <tr> <td><code>customLivenessProbe</code></td> <td>Custom Liveness probes for Keycloak</td> <td><code>{}</code></td> </tr> <tr> <td><code>customReadinessProbe</code></td> <td>Custom Rediness probes Keycloak</td> <td><code>{}</code></td> </tr> <tr> <td><code>customStartupProbe</code></td> <td>Custom Startup probes for Keycloak</td> <td><code>{}</code></td> </tr> <tr> <td><code>lifecycleHooks</code></td> <td>LifecycleHooks to set additional configuration at startup</td> <td><code>{}</code></td> </tr> <tr> <td><code>hostAliases</code></td> <td>Deployment pod host aliases</td> <td><code>[]</code></td> </tr> <tr> <td><code>podLabels</code></td> <td>Extra labels for Keycloak pods</td> <td><code>{}</code></td> </tr> <tr> <td><code>podAnnotations</code></td> <td>Annotations for Keycloak pods</td> <td><code>{}</code></td> </tr> <tr> <td><code>podAffinityPreset</code></td> <td>Pod affinity preset. Ignored if <code>affinity</code> is set. Allowed values: <code>soft</code> or <code>hard</code></td> <td><code>""</code></td> </tr> <tr> <td><code>podAntiAffinityPreset</code></td> <td>Pod anti-affinity preset. Ignored if <code>affinity</code> is set. Allowed values: <code>soft</code> or <code>hard</code></td> <td><code>soft</code></td> </tr> <tr> <td><code>nodeAffinityPreset.type</code></td> <td>Node affinity preset type. Ignored if <code>affinity</code> is set. Allowed values: <code>soft</code> or <code>hard</code></td> <td><code>""</code></td> </tr> <tr> <td><code>nodeAffinityPreset.key</code></td> <td>Node label key to match. Ignored if <code>affinity</code> is set.</td> <td><code>""</code></td> </tr> <tr> <td><code>nodeAffinityPreset.values</code></td> <td>Node label values to match. Ignored if <code>affinity</code> is set.</td> <td><code>[]</code></td> </tr> <tr> <td><code>affinity</code></td> <td>Affinity for pod assignment</td> <td><code>{}</code></td> </tr> <tr> <td><code>nodeSelector</code></td> <td>Node labels for pod assignment</td> <td><code>{}</code></td> </tr> <tr> <td><code>tolerations</code></td> <td>Tolerations for pod assignment</td> <td><code>[]</code></td> </tr> <tr> <td><code>topologySpreadConstraints</code></td> <td>Topology Spread Constraints for pod assignment spread across your cluster among failure-domains. Evaluated as a template</td> <td><code>[]</code></td> </tr> <tr> <td><code>podManagementPolicy</code></td> <td>Pod management policy for the Keycloak statefulset</td> <td><code>Parallel</code></td> </tr> <tr> <td><code>priorityClassName</code></td> <td>Keycloak pods' Priority Class Name</td> <td><code>""</code></td> </tr> <tr> <td><code>schedulerName</code></td> <td>Use an alternate scheduler, e.g. "stork".</td> <td><code>""</code></td> </tr> <tr> <td><code>terminationGracePeriodSeconds</code></td> <td>Seconds Keycloak pod needs to terminate gracefully</td> <td><code>""</code></td> </tr> <tr> <td><code>updateStrategy.type</code></td> <td>Keycloak statefulset strategy type</td> <td><code>RollingUpdate</code></td> </tr> <tr> <td><code>updateStrategy.rollingUpdate</code></td> <td>Keycloak statefulset rolling update configuration parameters</td> <td><code>{}</code></td> </tr> <tr> <td><code>extraVolumes</code></td> <td>Optionally specify extra list of additional volumes for Keycloak pods</td> <td><code>[]</code></td> </tr> <tr> <td><code>extraVolumeMounts</code></td> <td>Optionally specify extra list of additional volumeMounts for Keycloak container(s)</td> <td><code>[]</code></td> </tr> <tr> <td><code>initContainers</code></td> <td>Add additional init containers to the Keycloak pods</td> <td><code>[]</code></td> </tr> <tr> <td><code>sidecars</code></td> <td>Add additional sidecar containers to the Keycloak pods</td> <td><code>[]</code></td> </tr> </tbody> </table> <h3 id=exposure-parameters>Exposure parameters<a class=headerlink href=#exposure-parameters title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Name</th> <th>Description</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td><code>service.type</code></td> <td>Kubernetes service type</td> <td><code>ClusterIP</code></td> </tr> <tr> <td><code>service.http.enabled</code></td> <td>Enable http port on service</td> <td><code>true</code></td> </tr> <tr> <td><code>service.ports.http</code></td> <td>Keycloak service HTTP port</td> <td><code>80</code></td> </tr> <tr> <td><code>service.ports.https</code></td> <td>Keycloak service HTTPS port</td> <td><code>443</code></td> </tr> <tr> <td><code>service.nodePorts</code></td> <td>Specify the nodePort values for the LoadBalancer and NodePort service types.</td> <td><code>{}</code></td> </tr> <tr> <td><code>service.sessionAffinity</code></td> <td>Control where client requests go, to the same pod or round-robin</td> <td><code>None</code></td> </tr> <tr> <td><code>service.sessionAffinityConfig</code></td> <td>Additional settings for the sessionAffinity</td> <td><code>{}</code></td> </tr> <tr> <td><code>service.clusterIP</code></td> <td>Keycloak service clusterIP IP</td> <td><code>""</code></td> </tr> <tr> <td><code>service.loadBalancerIP</code></td> <td>loadBalancerIP for the SuiteCRM Service (optional, cloud specific)</td> <td><code>""</code></td> </tr> <tr> <td><code>service.loadBalancerSourceRanges</code></td> <td>Address that are allowed when service is LoadBalancer</td> <td><code>[]</code></td> </tr> <tr> <td><code>service.externalTrafficPolicy</code></td> <td>Enable client source IP preservation</td> <td><code>Cluster</code></td> </tr> <tr> <td><code>service.annotations</code></td> <td>Additional custom annotations for Keycloak service</td> <td><code>{}</code></td> </tr> <tr> <td><code>service.extraPorts</code></td> <td>Extra port to expose on Keycloak service</td> <td><code>[]</code></td> </tr> <tr> <td><code>service.extraHeadlessPorts</code></td> <td>Extra ports to expose on Keycloak headless service</td> <td><code>[]</code></td> </tr> <tr> <td><code>service.headless.annotations</code></td> <td>Annotations for the headless service.</td> <td><code>{}</code></td> </tr> <tr> <td><code>service.headless.extraPorts</code></td> <td>Extra ports to expose on Keycloak headless service</td> <td><code>[]</code></td> </tr> <tr> <td><code>ingress.enabled</code></td> <td>Enable ingress record generation for Keycloak</td> <td><code>false</code></td> </tr> <tr> <td><code>ingress.ingressClassName</code></td> <td>IngressClass that will be be used to implement the Ingress (Kubernetes 1.18+)</td> <td><code>""</code></td> </tr> <tr> <td><code>ingress.pathType</code></td> <td>Ingress path type</td> <td><code>ImplementationSpecific</code></td> </tr> <tr> <td><code>ingress.apiVersion</code></td> <td>Force Ingress API version (automatically detected if not set)</td> <td><code>""</code></td> </tr> <tr> <td><code>ingress.hostname</code></td> <td>Default host for the ingress record (evaluated as template)</td> <td><code>keycloak.local</code></td> </tr> <tr> <td><code>ingress.path</code></td> <td>Default path for the ingress record (evaluated as template)</td> <td><code>""</code></td> </tr> <tr> <td><code>ingress.servicePort</code></td> <td>Backend service port to use</td> <td><code>http</code></td> </tr> <tr> <td><code>ingress.annotations</code></td> <td>Additional annotations for the Ingress resource. To enable certificate autogeneration, place here your cert-manager annotations.</td> <td><code>{}</code></td> </tr> <tr> <td><code>ingress.labels</code></td> <td>Additional labels for the Ingress resource.</td> <td><code>{}</code></td> </tr> <tr> <td><code>ingress.tls</code></td> <td>Enable TLS configuration for the host defined at <code>ingress.hostname</code> parameter</td> <td><code>false</code></td> </tr> <tr> <td><code>ingress.selfSigned</code></td> <td>Create a TLS secret for this ingress record using self-signed certificates generated by Helm</td> <td><code>false</code></td> </tr> <tr> <td><code>ingress.extraHosts</code></td> <td>An array with additional hostname(s) to be covered with the ingress record</td> <td><code>[]</code></td> </tr> <tr> <td><code>ingress.extraPaths</code></td> <td>Any additional arbitrary paths that may need to be added to the ingress under the main host.</td> <td><code>[]</code></td> </tr> <tr> <td><code>ingress.extraTls</code></td> <td>The tls configuration for additional hostnames to be covered with this ingress record.</td> <td><code>[]</code></td> </tr> <tr> <td><code>ingress.secrets</code></td> <td>If you're providing your own certificates, please use this to add the certificates as secrets</td> <td><code>[]</code></td> </tr> <tr> <td><code>ingress.extraRules</code></td> <td>Additional rules to be covered with this ingress record</td> <td><code>[]</code></td> </tr> <tr> <td><code>networkPolicy.enabled</code></td> <td>Enable the default NetworkPolicy policy</td> <td><code>false</code></td> </tr> <tr> <td><code>networkPolicy.allowExternal</code></td> <td>Don't require client label for connections</td> <td><code>true</code></td> </tr> <tr> <td><code>networkPolicy.additionalRules</code></td> <td>Additional NetworkPolicy rules</td> <td><code>{}</code></td> </tr> </tbody> </table> <h3 id=rbac-parameter>RBAC parameter<a class=headerlink href=#rbac-parameter title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Name</th> <th>Description</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td><code>serviceAccount.create</code></td> <td>Enable the creation of a ServiceAccount for Keycloak pods</td> <td><code>true</code></td> </tr> <tr> <td><code>serviceAccount.name</code></td> <td>Name of the created ServiceAccount</td> <td><code>""</code></td> </tr> <tr> <td><code>serviceAccount.automountServiceAccountToken</code></td> <td>Auto-mount the service account token in the pod</td> <td><code>true</code></td> </tr> <tr> <td><code>serviceAccount.annotations</code></td> <td>Additional custom annotations for the ServiceAccount</td> <td><code>{}</code></td> </tr> <tr> <td><code>serviceAccount.extraLabels</code></td> <td>Additional labels for the ServiceAccount</td> <td><code>{}</code></td> </tr> <tr> <td><code>rbac.create</code></td> <td>Whether to create and use RBAC resources or not</td> <td><code>false</code></td> </tr> <tr> <td><code>rbac.rules</code></td> <td>Custom RBAC rules</td> <td><code>[]</code></td> </tr> </tbody> </table> <h3 id=other-parameters>Other parameters<a class=headerlink href=#other-parameters title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Name</th> <th>Description</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td><code>pdb.create</code></td> <td>Enable/disable a Pod Disruption Budget creation</td> <td><code>false</code></td> </tr> <tr> <td><code>pdb.minAvailable</code></td> <td>Minimum number/percentage of pods that should remain scheduled</td> <td><code>1</code></td> </tr> <tr> <td><code>pdb.maxUnavailable</code></td> <td>Maximum number/percentage of pods that may be made unavailable</td> <td><code>""</code></td> </tr> <tr> <td><code>autoscaling.enabled</code></td> <td>Enable autoscaling for Keycloak</td> <td><code>false</code></td> </tr> <tr> <td><code>autoscaling.minReplicas</code></td> <td>Minimum number of Keycloak replicas</td> <td><code>1</code></td> </tr> <tr> <td><code>autoscaling.maxReplicas</code></td> <td>Maximum number of Keycloak replicas</td> <td><code>11</code></td> </tr> <tr> <td><code>autoscaling.targetCPU</code></td> <td>Target CPU utilization percentage</td> <td><code>""</code></td> </tr> <tr> <td><code>autoscaling.targetMemory</code></td> <td>Target Memory utilization percentage</td> <td><code>""</code></td> </tr> </tbody> </table> <h3 id=metrics-parameters>Metrics parameters<a class=headerlink href=#metrics-parameters title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Name</th> <th>Description</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td><code>metrics.enabled</code></td> <td>Enable exposing Keycloak statistics</td> <td><code>false</code></td> </tr> <tr> <td><code>metrics.service.ports.http</code></td> <td>Metrics service HTTP port</td> <td><code>8080</code></td> </tr> <tr> <td><code>metrics.service.annotations</code></td> <td>Annotations for enabling prometheus to access the metrics endpoints</td> <td><code>{}</code></td> </tr> <tr> <td><code>metrics.serviceMonitor.enabled</code></td> <td>Create ServiceMonitor Resource for scraping metrics using PrometheusOperator</td> <td><code>false</code></td> </tr> <tr> <td><code>metrics.serviceMonitor.port</code></td> <td>Metrics service HTTP port</td> <td><code>http</code></td> </tr> <tr> <td><code>metrics.serviceMonitor.endpoints</code></td> <td>The endpoint configuration of the ServiceMonitor. Path is mandatory. Interval, timeout and labellings can be overwritten.</td> <td><code>[]</code></td> </tr> <tr> <td><code>metrics.serviceMonitor.path</code></td> <td>Metrics service HTTP path. Deprecated: Use <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/param title="GitHub User: param">@param</a> metrics.serviceMonitor.endpoints instead</td> <td><code>""</code></td> </tr> <tr> <td><code>metrics.serviceMonitor.namespace</code></td> <td>Namespace which Prometheus is running in</td> <td><code>""</code></td> </tr> <tr> <td><code>metrics.serviceMonitor.interval</code></td> <td>Interval at which metrics should be scraped</td> <td><code>30s</code></td> </tr> <tr> <td><code>metrics.serviceMonitor.scrapeTimeout</code></td> <td>Specify the timeout after which the scrape is ended</td> <td><code>""</code></td> </tr> <tr> <td><code>metrics.serviceMonitor.labels</code></td> <td>Additional labels that can be used so ServiceMonitor will be discovered by Prometheus</td> <td><code>{}</code></td> </tr> <tr> <td><code>metrics.serviceMonitor.selector</code></td> <td>Prometheus instance selector labels</td> <td><code>{}</code></td> </tr> <tr> <td><code>metrics.serviceMonitor.relabelings</code></td> <td>RelabelConfigs to apply to samples before scraping</td> <td><code>[]</code></td> </tr> <tr> <td><code>metrics.serviceMonitor.metricRelabelings</code></td> <td>MetricRelabelConfigs to apply to samples before ingestion</td> <td><code>[]</code></td> </tr> <tr> <td><code>metrics.serviceMonitor.honorLabels</code></td> <td>honorLabels chooses the metric's labels on collisions with target labels</td> <td><code>false</code></td> </tr> <tr> <td><code>metrics.serviceMonitor.jobLabel</code></td> <td>The name of the label on the target service to use as the job name in prometheus.</td> <td><code>""</code></td> </tr> <tr> <td><code>metrics.prometheusRule.enabled</code></td> <td>Create PrometheusRule Resource for scraping metrics using PrometheusOperator</td> <td><code>false</code></td> </tr> <tr> <td><code>metrics.prometheusRule.namespace</code></td> <td>Namespace which Prometheus is running in</td> <td><code>""</code></td> </tr> <tr> <td><code>metrics.prometheusRule.labels</code></td> <td>Additional labels that can be used so PrometheusRule will be discovered by Prometheus</td> <td><code>{}</code></td> </tr> <tr> <td><code>metrics.prometheusRule.groups</code></td> <td>Groups, containing the alert rules.</td> <td><code>[]</code></td> </tr> </tbody> </table> <h3 id=keycloak-config-cli-parameters>keycloak-config-cli parameters<a class=headerlink href=#keycloak-config-cli-parameters title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Name</th> <th>Description</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td><code>keycloakConfigCli.enabled</code></td> <td>Whether to enable keycloak-config-cli job</td> <td><code>false</code></td> </tr> <tr> <td><code>keycloakConfigCli.image.registry</code></td> <td>keycloak-config-cli container image registry</td> <td><code>docker.io</code></td> </tr> <tr> <td><code>keycloakConfigCli.image.repository</code></td> <td>keycloak-config-cli container image repository</td> <td><code>bitnami/keycloak-config-cli</code></td> </tr> <tr> <td><code>keycloakConfigCli.image.tag</code></td> <td>keycloak-config-cli container image tag</td> <td><code>5.6.1-debian-11-r34</code></td> </tr> <tr> <td><code>keycloakConfigCli.image.digest</code></td> <td>keycloak-config-cli container image digest in the way sha256:aa.... Please note this parameter, if set, will override the tag</td> <td><code>""</code></td> </tr> <tr> <td><code>keycloakConfigCli.image.pullPolicy</code></td> <td>keycloak-config-cli container image pull policy</td> <td><code>IfNotPresent</code></td> </tr> <tr> <td><code>keycloakConfigCli.image.pullSecrets</code></td> <td>keycloak-config-cli container image pull secrets</td> <td><code>[]</code></td> </tr> <tr> <td><code>keycloakConfigCli.annotations</code></td> <td>Annotations for keycloak-config-cli job</td> <td><code>{}</code></td> </tr> <tr> <td><code>keycloakConfigCli.command</code></td> <td>Command for running the container (set to default if not set). Use array form</td> <td><code>[]</code></td> </tr> <tr> <td><code>keycloakConfigCli.args</code></td> <td>Args for running the container (set to default if not set). Use array form</td> <td><code>[]</code></td> </tr> <tr> <td><code>keycloakConfigCli.hostAliases</code></td> <td>Job pod host aliases</td> <td><code>[]</code></td> </tr> <tr> <td><code>keycloakConfigCli.resources.limits</code></td> <td>The resources limits for the keycloak-config-cli container</td> <td><code>{}</code></td> </tr> <tr> <td><code>keycloakConfigCli.resources.requests</code></td> <td>The requested resources for the keycloak-config-cli container</td> <td><code>{}</code></td> </tr> <tr> <td><code>keycloakConfigCli.containerSecurityContext.enabled</code></td> <td>Enabled keycloak-config-cli containers' Security Context</td> <td><code>true</code></td> </tr> <tr> <td><code>keycloakConfigCli.containerSecurityContext.runAsUser</code></td> <td>Set keycloak-config-cli container's Security Context runAsUser</td> <td><code>1001</code></td> </tr> <tr> <td><code>keycloakConfigCli.containerSecurityContext.runAsNonRoot</code></td> <td>Set keycloak-config-cli container's Security Context runAsNonRoot</td> <td><code>true</code></td> </tr> <tr> <td><code>keycloakConfigCli.podSecurityContext.enabled</code></td> <td>Enabled keycloak-config-cli pods' Security Context</td> <td><code>true</code></td> </tr> <tr> <td><code>keycloakConfigCli.podSecurityContext.fsGroup</code></td> <td>Set keycloak-config-cli pod's Security Context fsGroup</td> <td><code>1001</code></td> </tr> <tr> <td><code>keycloakConfigCli.backoffLimit</code></td> <td>Number of retries before considering a Job as failed</td> <td><code>1</code></td> </tr> <tr> <td><code>keycloakConfigCli.podLabels</code></td> <td>Pod extra labels</td> <td><code>{}</code></td> </tr> <tr> <td><code>keycloakConfigCli.podAnnotations</code></td> <td>Annotations for job pod</td> <td><code>{}</code></td> </tr> <tr> <td><code>keycloakConfigCli.extraEnvVars</code></td> <td>Additional environment variables to set</td> <td><code>[]</code></td> </tr> <tr> <td><code>keycloakConfigCli.nodeSelector</code></td> <td>Node labels for pod assignment</td> <td><code>{}</code></td> </tr> <tr> <td><code>keycloakConfigCli.podTolerations</code></td> <td>Tolerations for job pod assignment</td> <td><code>[]</code></td> </tr> <tr> <td><code>keycloakConfigCli.extraEnvVarsCM</code></td> <td>ConfigMap with extra environment variables</td> <td><code>""</code></td> </tr> <tr> <td><code>keycloakConfigCli.extraEnvVarsSecret</code></td> <td>Secret with extra environment variables</td> <td><code>""</code></td> </tr> <tr> <td><code>keycloakConfigCli.extraVolumes</code></td> <td>Extra volumes to add to the job</td> <td><code>[]</code></td> </tr> <tr> <td><code>keycloakConfigCli.extraVolumeMounts</code></td> <td>Extra volume mounts to add to the container</td> <td><code>[]</code></td> </tr> <tr> <td><code>keycloakConfigCli.initContainers</code></td> <td>Add additional init containers to the Keycloak config cli pod</td> <td><code>[]</code></td> </tr> <tr> <td><code>keycloakConfigCli.sidecars</code></td> <td>Add additional sidecar containers to the Keycloak config cli pod</td> <td><code>[]</code></td> </tr> <tr> <td><code>keycloakConfigCli.configuration</code></td> <td>keycloak-config-cli realms configuration</td> <td><code>{}</code></td> </tr> <tr> <td><code>keycloakConfigCli.existingConfigmap</code></td> <td>ConfigMap with keycloak-config-cli configuration. This will override <code>keycloakConfigCli.config</code></td> <td><code>""</code></td> </tr> <tr> <td><code>keycloakConfigCli.cleanupAfterFinished.enabled</code></td> <td>Enables Cleanup for Finished Jobs</td> <td><code>false</code></td> </tr> <tr> <td><code>keycloakConfigCli.cleanupAfterFinished.seconds</code></td> <td>Sets the value of ttlSecondsAfterFinished</td> <td><code>600</code></td> </tr> </tbody> </table> <h3 id=database-parameters>Database parameters<a class=headerlink href=#database-parameters title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Name</th> <th>Description</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td><code>postgresql.enabled</code></td> <td>Switch to enable or disable the PostgreSQL helm chart</td> <td><code>true</code></td> </tr> <tr> <td><code>postgresql.auth.postgresPassword</code></td> <td>Password for the "postgres" admin user. Ignored if <code>auth.existingSecret</code> with key <code>postgres-password</code> is provided</td> <td><code>""</code></td> </tr> <tr> <td><code>postgresql.auth.username</code></td> <td>Name for a custom user to create</td> <td><code>bn_keycloak</code></td> </tr> <tr> <td><code>postgresql.auth.password</code></td> <td>Password for the custom user to create</td> <td><code>""</code></td> </tr> <tr> <td><code>postgresql.auth.database</code></td> <td>Name for a custom database to create</td> <td><code>bitnami_keycloak</code></td> </tr> <tr> <td><code>postgresql.auth.existingSecret</code></td> <td>Name of existing secret to use for PostgreSQL credentials</td> <td><code>""</code></td> </tr> <tr> <td><code>postgresql.architecture</code></td> <td>PostgreSQL architecture (<code>standalone</code> or <code>replication</code>)</td> <td><code>standalone</code></td> </tr> <tr> <td><code>externalDatabase.host</code></td> <td>Database host</td> <td><code>""</code></td> </tr> <tr> <td><code>externalDatabase.port</code></td> <td>Database port number</td> <td><code>5432</code></td> </tr> <tr> <td><code>externalDatabase.user</code></td> <td>Non-root username for Keycloak</td> <td><code>bn_keycloak</code></td> </tr> <tr> <td><code>externalDatabase.password</code></td> <td>Password for the non-root username for Keycloak</td> <td><code>""</code></td> </tr> <tr> <td><code>externalDatabase.database</code></td> <td>Keycloak database name</td> <td><code>bitnami_keycloak</code></td> </tr> <tr> <td><code>externalDatabase.existingSecret</code></td> <td>Name of an existing secret resource containing the database credentials</td> <td><code>""</code></td> </tr> <tr> <td><code>externalDatabase.existingSecretHostKey</code></td> <td>Name of an existing secret key containing the database host name</td> <td><code>""</code></td> </tr> <tr> <td><code>externalDatabase.existingSecretPortKey</code></td> <td>Name of an existing secret key containing the database port</td> <td><code>""</code></td> </tr> <tr> <td><code>externalDatabase.existingSecretUserKey</code></td> <td>Name of an existing secret key containing the database user</td> <td><code>""</code></td> </tr> <tr> <td><code>externalDatabase.existingSecretDatabaseKey</code></td> <td>Name of an existing secret key containing the database name</td> <td><code>""</code></td> </tr> <tr> <td><code>externalDatabase.existingSecretPasswordKey</code></td> <td>Name of an existing secret key containing the database credentials</td> <td><code>""</code></td> </tr> </tbody> </table> <h3 id=keycloak-cache-parameters>Keycloak Cache parameters<a class=headerlink href=#keycloak-cache-parameters title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Name</th> <th>Description</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td><code>cache.enabled</code></td> <td>Switch to enable or disable the keycloak distributed cache for kubernetes.</td> <td><code>true</code></td> </tr> <tr> <td><code>cache.stackName</code></td> <td>Set infinispan cache stack to use</td> <td><code>kubernetes</code></td> </tr> <tr> <td><code>cache.stackFile</code></td> <td>Set infinispan cache stack filename to use</td> <td><code>""</code></td> </tr> </tbody> </table> <h3 id=keycloak-logging-parameters>Keycloak Logging parameters<a class=headerlink href=#keycloak-logging-parameters title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Name</th> <th>Description</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td><code>logging.output</code></td> <td>Alternates between the default log output format or json format</td> <td><code>default</code></td> </tr> <tr> <td><code>logging.level</code></td> <td>Allowed values as documented: FATAL, ERROR, WARN, INFO, DEBUG, TRACE, ALL, OFF</td> <td><code>INFO</code></td> </tr> </tbody> </table> <p>Specify each parameter using the <code>--set key=value[,key=value]</code> argument to <code>helm install</code>. For example,</p> <div class="language-console highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=go>helm install my-release --set auth.adminPassword=secretpassword bitnami/keycloak</span>
</span></code></pre></div> <p>The above command sets the Keycloak administrator password to <code>secretpassword</code>.</p> <blockquote> <p>NOTE: Once this chart is deployed, it is not possible to change the application's access credentials, such as usernames or passwords, using Helm. To change these application credentials after deployment, delete any persistent volumes (PVs) used by the chart and re-deploy it, or use the application's built-in administrative tools if available.</p> </blockquote> <p>Alternatively, a YAML file that specifies the values for the parameters can be provided while installing the chart. For example,</p> <div class="language-console highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=go>helm install my-release -f values.yaml bitnami/keycloak</span>
</span></code></pre></div> <blockquote> <p><strong>Tip</strong>: You can use the default <a href=values.yaml>values.yaml</a></p> </blockquote> <p>Keycloak realms, users and clients can be created from the Keycloak administration panel. Refer to the <a href=https://docs.bitnami.com/tutorials/integrate-keycloak-authentication-kubernetes>tutorial on adding user authentication to applications with Keycloak</a> for more details on these operations.</p> <h2 id=configuration-and-installation-details>Configuration and installation details<a class=headerlink href=#configuration-and-installation-details title="Permanent link">&para;</a></h2> <h3 id=rolling-vs-immutable-tags><a href=https://docs.bitnami.com/containers/how-to/understand-rolling-tags-containers/ >Rolling vs Immutable tags</a><a class=headerlink href=#rolling-vs-immutable-tags title="Permanent link">&para;</a></h3> <p>It is strongly recommended to use immutable tags in a production environment. This ensures your deployment does not change automatically if the same tag is updated with a different image.</p> <p>Bitnami will release a new chart updating its containers if a new version of the main container, significant changes, or critical vulnerabilities exist.</p> <h3 id=use-an-external-database>Use an external database<a class=headerlink href=#use-an-external-database title="Permanent link">&para;</a></h3> <p>Sometimes, you may want to have Keycloak connect to an external PostgreSQL database rather than a database within your cluster - for example, when using a managed database service, or when running a single database server for all your applications. To do this, set the <code>postgresql.enabled</code> parameter to <code>false</code> and specify the credentials for the external database using the <code>externalDatabase.*</code> parameters.</p> <p>Refer to the <a href=https://docs.bitnami.com/kubernetes/apps/keycloak/configuration/use-external-database>chart documentation on using an external database</a> for more details and an example.</p> <blockquote> <p>NOTE: Only PostgreSQL database server is supported as external database</p> </blockquote> <p>It is not supported but possible to run Keycloak with an external MSSQL database with the following settings:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=nt>externalDatabase</span><span class=p>:</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>  </span><span class=nt>host</span><span class=p>:</span><span class=w> </span><span class=s>&quot;mssql.example.com&quot;</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>  </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1433</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>  </span><span class=nt>user</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">keycloak</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>  </span><span class=nt>database</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">keycloak</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>  </span><span class=nt>existingSecret</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">passwords</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=nt>extraEnvVars</span><span class=p>:</span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">KC_DB</span><span class=w> </span><span class=c1># override values from the conf file</span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=w>    </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&#39;mssql&#39;</span>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">KC_DB_URL</span>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=w>    </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class=s>&#39;jdbc:sqlserver://mssql.example.com:1433;databaseName=keycloak;&#39;</span>
</span></code></pre></div> <h3 id=add-extra-environment-variables>Add extra environment variables<a class=headerlink href=#add-extra-environment-variables title="Permanent link">&para;</a></h3> <p>In case you want to add extra environment variables (useful for advanced operations like custom init scripts), you can use the <code>extraEnvVars</code> property.</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=nt>extraEnvVars</span><span class=p>:</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">KEYCLOAK_LOG_LEVEL</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>    </span><span class=nt>value</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">DEBUG</span>
</span></code></pre></div> <p>Alternatively, you can use a ConfigMap or a Secret with the environment variables. To do so, use the <code>extraEnvVarsCM</code> or the <code>extraEnvVarsSecret</code> values.</p> <h3 id=use-sidecars-and-init-containers>Use Sidecars and Init Containers<a class=headerlink href=#use-sidecars-and-init-containers title="Permanent link">&para;</a></h3> <p>If additional containers are needed in the same pod (such as additional metrics or logging exporters), they can be defined using the <code>sidecars</code> config parameter. Similarly, extra init containers can be added using the <code>initContainers</code> parameter.</p> <p>Refer to the chart documentation for more information on, and examples of, configuring and using <a href=https://docs.bitnami.com/kubernetes/apps/keycloak/configuration/configure-sidecar-init-containers/ >sidecars and init containers</a>.</p> <h3 id=initialize-a-fresh-instance>Initialize a fresh instance<a class=headerlink href=#initialize-a-fresh-instance title="Permanent link">&para;</a></h3> <p>The <a href=https://github.com/bitnami/containers/tree/main/bitnami/keycloak>Bitnami Keycloak</a> image allows you to use your custom scripts to initialize a fresh instance. In order to execute the scripts, you can specify custom scripts using the <code>initdbScripts</code> parameter as dict.</p> <p>In addition to this option, you can also set an external ConfigMap with all the initialization scripts. This is done by setting the <code>initdbScriptsConfigMap</code> parameter. Note that this will override the previous option.</p> <p>The allowed extensions is <code>.sh</code>.</p> <h3 id=deploy-extra-resources>Deploy extra resources<a class=headerlink href=#deploy-extra-resources title="Permanent link">&para;</a></h3> <p>There are cases where you may want to deploy extra objects, such a ConfigMap containing your app's configuration or some extra deployment with a micro service used by your app. For covering this case, the chart allows adding the full specification of other objects using the <code>extraDeploy</code> parameter.</p> <h3 id=set-pod-affinity>Set Pod affinity<a class=headerlink href=#set-pod-affinity title="Permanent link">&para;</a></h3> <p>This chart allows you to set your custom affinity using the <code>affinity</code> parameter. Find more information about Pod's affinity in the <a href=https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity>kubernetes documentation</a>.</p> <p>As an alternative, you can use of the preset configurations for pod affinity, pod anti-affinity, and node affinity available at the <a href=https://github.com/bitnami/charts/tree/main/bitnami/common#affinities>bitnami/common</a> chart. To do so, set the <code>podAffinityPreset</code>, <code>podAntiAffinityPreset</code>, or <code>nodeAffinityPreset</code> parameters.</p> <h3 id=configure-ingress>Configure Ingress<a class=headerlink href=#configure-ingress title="Permanent link">&para;</a></h3> <p>This chart provides support for Ingress resources. If you have an ingress controller installed on your cluster, such as <a href=https://github.com/bitnami/charts/tree/main/bitnami/nginx-ingress-controller>nginx-ingress-controller</a> or <a href=https://github.com/bitnami/charts/tree/main/bitnami/contour>contour</a> you can utilize the ingress controller to serve your application.</p> <p>To enable Ingress integration, set <code>ingress.enabled</code> to <code>true</code>. The <code>ingress.hostname</code> property can be used to set the host name. The <code>ingress.tls</code> parameter can be used to add the TLS configuration for this host. It is also possible to have more than one host, with a separate TLS configuration for each host. <a href=https://docs.bitnami.com/kubernetes/apps/keycloak/configuration/configure-ingress/ >Learn more about configuring and using Ingress</a>.</p> <h3 id=configure-tls-secrets-for-use-with-ingress>Configure TLS Secrets for use with Ingress<a class=headerlink href=#configure-tls-secrets-for-use-with-ingress title="Permanent link">&para;</a></h3> <p>The chart also facilitates the creation of TLS secrets for use with the Ingress controller, with different options for certificate management. <a href=https://docs.bitnami.com/kubernetes/apps/keycloak/administration/enable-tls-ingress/ >Learn more about TLS secrets</a>.</p> <h3 id=use-with-ingress-offloading-ssl>Use with ingress offloading SSL<a class=headerlink href=#use-with-ingress-offloading-ssl title="Permanent link">&para;</a></h3> <p>If your ingress controller has the SSL Termination, you should set <code>proxy</code> to <code>edge</code>.</p> <h3 id=manage-secrets-and-passwords>Manage secrets and passwords<a class=headerlink href=#manage-secrets-and-passwords title="Permanent link">&para;</a></h3> <p>This chart provides several ways to manage passwords:</p> <ul> <li>Values passed to the chart</li> <li>An existing secret with all the passwords (via the <code>existingSecret</code> parameter)</li> <li>Multiple existing secrets with all the passwords (via the <code>existingSecretPerPassword</code> parameter)</li> </ul> <p>Refer to the <a href=https://docs.bitnami.com/kubernetes/apps/keycloak/configuration/manage-passwords/ >chart documentation on managing passwords</a> for examples of each method.</p> <h2 id=troubleshooting>Troubleshooting<a class=headerlink href=#troubleshooting title="Permanent link">&para;</a></h2> <p>Find more information about how to deal with common errors related to Bitnami's Helm charts in <a href=https://docs.bitnami.com/general/how-to/troubleshoot-helm-chart-issues>this troubleshooting guide</a>.</p> <h2 id=upgrading>Upgrading<a class=headerlink href=#upgrading title="Permanent link">&para;</a></h2> <h3 id=to-1500>To 15.0.0<a class=headerlink href=#to-1500 title="Permanent link">&para;</a></h3> <p>This major updates the default serviceType from <code>LoadBalancer</code> to <code>ClusterIP</code> to avoid inadvertently exposing Keycloak directly to the internet without an Ingress.</p> <h3 id=to-1200>To 12.0.0<a class=headerlink href=#to-1200 title="Permanent link">&para;</a></h3> <p>This major updates the PostgreSQL subchart to its newest major, 12.0.0. <a href=https://github.com/bitnami/charts/tree/master/bitnami/postgresql#to-1200>Here</a> you can find more information about the changes introduced in that version.</p> <h3 id=to-any-previous-version>To any previous version<a class=headerlink href=#to-any-previous-version title="Permanent link">&para;</a></h3> <p>Refer to the <a href=https://docs.bitnami.com/kubernetes/apps/keycloak/administration/upgrade/ >chart documentation for more information about how to upgrade from previous releases</a>.</p> <h2 id=license>License<a class=headerlink href=#license title="Permanent link">&para;</a></h2> <p>Copyright &copy; 2023 VMware, Inc.</p> <p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p> <p><a href=http://www.apache.org/licenses/LICENSE-2.0>http://www.apache.org/licenses/LICENSE-2.0</a></p> <p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> 回到页面顶部 </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=页脚> <a href=../kafka/ class="md-footer__link md-footer__link--prev" aria-label="上一页: Kafka" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> 上一页 </span> Kafka </div> </div> </a> <a href=../kiam/ class="md-footer__link md-footer__link--next" aria-label="下一页: Kiam" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> 下一页 </span> Kiam </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["announce.dismiss", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../../assets/javascripts/bundle.51d95adb.min.js></script> </body> </html>